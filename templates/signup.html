{% extends "base.html" %}
{% block content %}
<h2>Sign Up</h2>
<div id="supabase-signup"></div>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@1.29.4/dist/umd/supabase.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@supabase/auth-ui/dist/supabase-auth-ui.min.js"></script>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    const supabaseUrl = "{{ supabase_url }}";
    const supabaseKey = "{{ supabase_key }}";
    const supabase = window.supabase.createClient(supabaseUrl, supabaseKey);

    const { Auth } = SupabaseAuthUI;

    new Auth(supabase, {
      redirectTo: "{{ url_for('auth_callback', _external=True) }}",
      theme: 'default'
    }).mount('#supabase-signup');
  });
</script>
{% endblock %}
